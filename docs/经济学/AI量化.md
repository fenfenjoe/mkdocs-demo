

#### 流程

比如，我们想统计某只股票收益率的规律，我们会先取历史某段时间该收益率表现进行学习。

历史数据：如2018.01.01~2019.01.01



| 股票代码 | 日期       | 收盘价 |
| -------- | ---------- | ------ |
| 000001   | 2018.01.01 | 10     |
| 000001   | 2018.01.02 | 10.2   |
| ...      |            |        |



确定目标：收益率

计算出**标注数据**：即计算股票这段时间的收益率





| 股票代码 | 日期       | 5日内收益率（前5日收盘价取平均值） |
| -------- | ---------- | ---------------------------------- |
| 000001   | 2018.01.01 | 1%                                 |
| 000001   | 2018.01.02 | 0.8%                               |
| ...      |            |                                    |





找**因子**：选择一些自己认为的影响股价的指标（市盈率、换手率等等）

计算出**特征数据**：计算股票这段时间的市盈率、收益率

标注数据与特征数据聚合 + 处理缺失数据：

| 股票代码 | 日期       | 5日收益率 | 市盈率 | 换手率 |
| -------- | ---------- | --------- | ------ | ------ |
| 000001   | 2018.01.01 | 1%        | 5      | 1%     |
| 000001   | 2018.01.02 | 0.8%      | 5.1    | 0.67%  |
| ...      |            |           |        |        |





模型训练：使用**机器学习**的方法，通过上面的数据，总结出一套“通过市盈率和换手率预计收益率”的经验，又称为“模型”。



```java
//伪代码
//通过市盈率、换手率，得到一个预计的收益率的函数
public String predictProfit(String 市盈率,String 换手率){
    //代码由机器学习生成
}
```



验证模型：选择另一段时间的收益率表现，去验证该模型是否准确（如2013-01-01~2015-01-01）



| 股票代码 | 日期       | 收盘价 | 实际5日收益率 | 预计5日收益率 |
| -------- | ---------- | ------ | ------------- | ------------- |
| 000001   | 2013.01.01 | 5      | 1%            | 1.5%          |
| 000001   | 2013.01.02 | 5.6    | 0.8%          | 1.3%          |
| ...      |            |        |               |               |

