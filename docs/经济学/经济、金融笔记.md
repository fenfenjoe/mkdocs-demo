

#### 关于股票

影响股价的因素有哪些？

DDM理论：影响股价的因素有企业盈利、无风险利率、风险利率

影响股本的因素有哪些？

* 增发
* 配股
* 资本公积转增股本
* 股份回购
* 可转债转股
* 股票分割、合并（拆股、拆息、并股）



**从有限责任公司成立开始**



**公司上市（IPO，首次公开募股，股份制）**

IPO，就是将公司的部分股份，第一次放到交易所上卖。目的是募集资金。

我们常说的“打新股”，就是认购公司一开始上市发行的股票。

当然除了散户会购买，企业、券商也是可以买这类股票的。

> 还有一种募资方式：借壳上市







**上市后公司募集资金的方法**

* 直接融资：借钱人与被借钱人直接打交道，没有中间商。
  * 股票市场融资（上市后才允许）
  * 债券市场融资（发债，上市后才允许）
  * 风险投资融资（向投资人投钱。A轮、B轮、天使轮）
  * 商业信用融资（向其他企业投钱。）
  * 民间借贷
* 间接融资：银行作为中间商
  * 银行信用融资
  * 消费信用融资（分期付款）
  * 租赁融资



**股票权益**

发行股票募集到的资金会分为两部分：

* 股本（发行时的实际价格，1元）
* 资本公积（超出1元的部分）

比如一只股票上市时的发行价为5元，那么1元是股本，4元是资本公积

因此，发行之初：

**投资者权益 = 股本 + 资本公积**



企业赚钱后，赚取的收益又为两部分：

* 盈余公积（企业需提取税后盈利的10%作为盈余公积，累计注册资本的50%后可不再提取）
* 未分配利润

**投资者权益 = 股本 + 资本公积 + 盈余公积 + 未分配利润**



股票拥有人可享受公司提供的以下权利：

* 现金红利（股价上升）
  * 派息：未分配利润 -> 资本公积
* 股票红利（股票数量增加）
  * 转股：资本公积 ->股本
  * 送股：盈余公积 + 未分配利润 ->股本





股权相关日期

* 股利宣布日
* 股权登记日
* 除息除权日
* 派发日

> 什么是除权和除息？
>
> 先说除息。
>
> 首先公司总的投资者权益 = 股本数量 * 股价
>
> 公司发放的现金红利（派息）来自可分配利润。而可分配利润又属于投资者权益的一部分。
>
> 因此，投资者权益降低，而股本数量没有改变，股价就要相应降低。这个调整的过程就叫除息。
>
> 除息价 = 股息登记日的收盘价 - 每股所分红利现金额
>
> 同理，除权就是总股本价值没有变化，股本变多，股价也要做相应调整。
>
> 除权价 = 股本价值 / 新股本

**公司利润去向**

公司利润->缴纳所得税->弥补亏损->提取法定公积->提取任意公积->优先股股东->普通股股东



#### 了解期货

期货是什么？

在中国如何买期货？

期货的风险与收益



#### 了解公司制度

如何成立一间公司？

公司有哪些组成部分？有哪些企业相关的东西？

组成：管理层、资源、文化理念、员工、服务、运营、战略、产品

企业相关：债权人、合作伙伴、投资人、供应商、客户、政府、竞争者、经济环境



公司如何上市？



#### 了解交易策略

##### 什么是交易策略？

通过一套方法论，指导交易者在某个时候，以某个价格，买某个数量的某个商品/股票/期货。

##### 有哪些交易策略的类型？

* 做空/做多
* 股票/宏观/套利
  * 股票：主动/量化
* CTA趋势/高频（波动）/套利
* 高频/日内
* 突破/回归
* 趋势/均值回复



##### 有哪些交易策略？如何选择适合自己的交易策略？（1）

* 海龟交易策略
* 均线策略，又分单均线、双均线
* 通道突破策略
* 仓位管理策略
* 随机指数策略
* 跟踪止盈策略
* 量价配合策略
* 相对力度指数（RSI）策略
* 乖离率（BAIS）策略
* 均线通道策略
* 商品通道指数（CCI）策略
* 收盘价突破策略
* 高频交易策略
  * 流动性策略：通过同时下买单和卖单，为市场增加流动性。比如下买单100块，同时下卖单101块，赚之间的差价。
  * 市场微观结构交易策略
  * 事件交易策略
  * 统计套利策略
* 多因子选股（长期策略，偏选股轻择时）
  * 使用多个财务指标，对其进行归因分析，并对不同财务指标进行排序打分，赋予权重。
* 指数网格交易策略



##### 常见的交易策略（2）

* 趋势策略（追涨杀跌，一般判断长期的趋势）
  * CTA趋势
    * 期货、债券

* 均值回复（赚价格波动中上升那段的钱）
  * 期货、债券

* 套利交易
  * 无风险套利
    * 现货、期货、期权
  * 配对交易（pair trading）
    * 期货
    * 比如购买了一种商品期货（做多），想对冲它的市场风险，于是对与其相关系数较强的商品期货做空。这就叫做配对交易。
    * 不能迷信相关系数，若找不到相关逻辑支撑，构建的策略不应随便应用于实盘
  * 统计套利
    * 期货、债券
    * 统计相关性，资产组合
* 日内波段
  * 期货、债券
* 事件驱动
  * 期货、债券

* 对冲/套期保值（hedge）
  * 股票、ETF
  * 特点：反向交易，规避单边持仓风险；跨品种、跨市场
* alpha策略
  * 股票、ETF
* 市场中性（消除beta）策略 
  * 期权
  * beta是指手里的股票组合受市场波动影响的收益部分，另外一部分收益称为alpha，即绝对收益；中性策略的目的是通过对冲消除市场波动（beta）对收益的影响，让自己顺利赚取绝对收益（alpha）。
  * 适合熊市，牛市收益会变少



特点
* 趋势策略：
  * 胜率不高
  * 赔率（盈亏比）要大
  * 要做好头寸管理
  * 确定趋势后需要勇于加仓
  * 分散投资
  * 适合中长周期
* 回复策略
  * 小赚小亏
  * 利用波动率
  * 适合短周期

* 种类
  * 趋势策略
    * 海龟
    * 网格
  * 回复策略

##### 交易模型研发流程

* 统计分析
  * 宏观经济环境数据
    * 经济周期、经济指标、基础利率、CPI、PPI
  * 行业与公司基本面
    * 财务报表、研报、产业链、大宗商品
  * 市场交易数据
    * 市场宏观数据、微观数据、流动性、机构结构
* 策略建模
  * 选股策略
  * 择时策略
    * 分析技术指标（MACD、KDJ）、获得突破、交叉、背离等信号
    * 预测、预警、确认
    * 趋势跟踪？高抛低吸？
    * 买入？卖出？观望？
* 对策略回溯测试，验证（模型研发的重要部分）
  * 代码错误？
  * 逻辑错误？
  * 策略失效？
* 修正错误
* 自动化交易

##### 常见技术指标

* 均线型：反映一段时间内的平均成本、压力、支撑；
  * MA、EXPMA、BBI
* 趋势型：适用于趋势类行情；检测趋势的启动、延续、转折；
  * MACD、SAR、ASI、DMI
* 摆动型：适用于震荡类行情；检测超买超卖、波动走势的转折点
  * KDJ、RSI、CCI、WR、BOLL
* 能量型：度量涨跌的幅度；“量在价先，量价配合”
  * OBV、VOL、VR

##### 技术指标详解

**MA：**

本质：一种低通滤波，过滤掉高频扰动，保留有用的低频趋势。

原理：每日对某只股票计算它的前n天中的平均收盘价

图形：一条比较平滑的曲线。

常用的MA线有5日平均（MA5）、10日平均（MA10）、30日、60日、120日、240日。

策略：

分为简单移动平均线（SMA）、加权移动平均线（WMA）、指数移动平均（EMA）。

* SMA

简单移动平均线，对每日计算它的前n天中的平均收盘价，并画成线制作而成。

示例：3日平均收盘价 = (昨天收盘价 * 1 + 前天 * 1 + 大前天 * 1 ) / 3

优点：反映近期价格趋势

缺点：具有滞后性，且周期越大，滞后性越强

* WMA

加权移动平均线，计算每日的平均收盘价时，对收盘价进行线性加权（SMA是等权）。

对距离当前较近的日期增加较大的权重，较远的权重则较小。

示例：3日平均收盘价 = (昨天收盘价 * 3 + 前天 * 2 + 大前天 * 1 ) / (3+2+1)

优点：比SMA滞后性要小

缺点：滞后性仍然存在

* EMA

指数移动平均线，计算每日的平均收盘价时，对收盘价进行指数加权，指数为固定值α。

同样，对距离当前较近的日期增加较大的权重，较远的权重则较小。

优点：比WMA滞后性要小

缺点：滞后性仍然存在

* FRAMA

分形自适应均线，EMA的升级版，可以动态求出指数α。

滞后性比EMA更小，但以均线局部不够平滑作为代价

* HMA

赫尔移动平均



**MACD：**

异同移动平均线，基于MA指标。

原理：

MACD = 2 * (DIF - DEA)

DIF = EMA1 - EMA2

DEA = 前一日DEA * 8/10 + 当日DIF * 2/10

> EMA1为快速移动平均线，一般用EMA（12）表示，即12日指数均线
>
> EMA2为慢速移动平均线，一般用EMA（26）表示，即26日指数均线

图形：两条曲线（DIF和DEA），一个柱形（MACD）

买入信号：DIF由下向上交叉DEA（金叉）

卖出信号：DIF由上向下交叉DEA（死叉）

> MACD使用技巧：
>
> 1.MACD也分短期MACD和长期MACD，主要看EMA1与EMA2设置的周期。
>
> 2.行情大涨时，可用短期MACD（6-19）判断买入时机，长期MACD（19-39）判断卖出时机
>
> 3.行情平稳时，可用中期MACD（12-26）判断买入时机，长期MACD（19-39）判断卖出时机
>
> 4.大跌时，使用中期MACD（12-26）判断买入、卖出时机
>
> 需要了解什么是背离形态。

**KD：**

**RSI：**

顶背离

底背离

##### 较难被量化的逻辑指标

* 市场情绪
* 管理者能力
* 产品质量
* 行业前景
* 消息多空
* 政策导向

##### 如何学习量化交易

平台：优矿网、聚宽、果仁、Bigquant

框架：tushare、akshare

语言：Python、C++、VBA、公式语言（通达信、东方财富等自定义的语言）、EasyLanguage、Pascal

###### 什么是盈亏比？

##### 构建量化策略需要注意的地方

* 通过市场波动率赚钱，波动率越高、趋势越好，越容易赚钱？
* 成交的时机（开盘？收盘？实时？）
* 当天建仓的头寸

* 涨跌停如何处理
* 收到买入信号，资金不足如何处理（剩余多少资金买多少？不买？）
* 交易成本的处理（滑点设置多少？）
* 复权怎么处理

##### 获取股票数据（tick）的方式

* 通过CTP接口
* 通过券商（付费）
* 通过网页爬虫（新浪等财经网站）



**Python与量化相关的库**

基础、偏数学方向的框架：

* numpy

  N维数组操作函数、线性代数、傅里叶变换函数、随机数生成函数

* scipy（常与numpy一起使用）

  统计、优化、线性代数、傅里叶便会、信号和图像处理、常微分方程求解

* pandas

  基于numpy，提供的函数可类比Excel中对表格的操作（如插入行、插入列、对某列数据进行过滤、对表格数据进行统计等）

* quantdsl

  Quant DSL语法的Python实现。

  Quant DSL是财务定量分析领域专用语言，是对衍生工具进行建模的编程语言。

  有诸如市场动态模型、最小二乘法、蒙特卡尔方法等的实现。

* statistics

  python内建的统计库

* pynance

  检索、分析、可视化股票和衍生品数据的框架

* PyQL

  对QuantLib的一个包装。



分析、回测、交易类框架：

* BigQuant

  AI量化交易&回测平台

* TA-Lib

  提供了计算价格的技术分析指标。

* easytrader

  提供了雪球、广发等的基金、股票自动交易、自动打新等等组件

* vnpy

  丰富的交易接口、股票接口、期货接口

* ShiPanE Python SDK

  通达信自动化交易API

* zipline

  事件驱动股票策略量化回测框架？目前国内许多在线量化平台均以zipline为模板开发

  backtrader

  

  

  

  

  

  





#### FAQ

##### 可以查到具体的股票买卖单吗？（买方是谁，卖方是谁）

##### 如何做宏观经济分析？



