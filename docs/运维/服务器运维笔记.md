#### JVM运维
##### JDK可用的工具？
* jmap
* jstack
* Jconsole
* Visualvm
##### jmap的用法？
* jmap -heap pid //显示某java进程当前的整体堆信息
  返回值（部分）：
    * MaxHeapSize ： JVM堆的最大大小
    * MaxNewSize：‘新生代’的最大大小
    * OldSize：‘老年代’的大小
    * MaxPermSize ：‘持久代’的最大大小
    * New Generation (Eden + 1 Survivor Space)：'新生代' 的内存分布
        * Eden Space：Eden区内存分布
        * From Space：其中一个Survivor区的内存分布
        * To Space：另一个Survivor区的内存分布
    * tenured generation： ‘老年代’区内存分布
    * Perm Generation：当前的 “持久代” 内存分布


* jmap -dump:live,format=b,file=a.log pid //将JVM当前内存使用的详细情况输出到文件（注意执行命令时应用会暂停）


##### JAVA DUMP文件
###### 如何生成JAVA DUMP文件？
1.配置JVM启动参数，让JVM在遇到OutOfMemoryError时自动生成Dump文件
-XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/path

2.jmap -dump:live,format=b,file=a.log pid（详情参考jmap）

###### 如何分析JAVA DUMP文件？
可用工具：
Visualvm（适合较小的DUMP文件，需要系统内存比DUMP文件大）
Eclipse Memory Analyzer tool(MAT，较大的DUMP文件)
在线分析网址：https://fastthread.io


