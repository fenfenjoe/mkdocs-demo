# 云原生笔记

[toc]

#### 参考

【叮，你收到一份云原生景观简介（必读） 】[https://blog.csdn.net/fly910905/article/details/108032192](https://blog.csdn.net/fly910905/article/details/108032192)

【云原生架构及项目一览图（CNCF landscape）】[https://landscape.cncf.io/](https://landscape.cncf.io/)

【什么是云计算？】[https://blog.csdn.net/gui951753/article/details/81488435](https://blog.csdn.net/gui951753/article/details/81488435)
#### 对云原生（CloudNative）、云平台的理解
指云平台的生态环境，由各种云原生项目、各种机构组成（个人理解）

##### 云平台
* 那什么是云平台？
云平台按现在市场上的说法，可以分为3种：
* IAAS（基础设施即服务）
* PAAS（平台即服务）
* SASS （软件即服务）

云平台主要提供以下的服务：
1. 提供机房、网络、虚拟机等的基础设施，以及一些运维服务；
2. 提供应用部署、迭代以及容器编排服务，用户可以开发并部署自己的应用；同时，云平台会提供一些开发中需要用到的通用组件，比如发短信、发邮件；
3. 提供应用，直接满足客户的业务需求，无需开发。

其中，IAAS类型的平台提供第1种服务；PAAS类型的平台提供第2种服务；SASS类型的平台提供第3种服务；  
用户应该按需选择

云平台又分为公有云平台（简称公有云）、私有云和混合云。

* 公有云
指云平台由专门的第三方云服务提供商搭建，企业和用户无需硬件投入。用户通过租赁的方式，在云平台上部署自己的服务。
* 私有云
指企业自行搭建的一个云平台，需要企业自己搭建及运维。
* 混合云
指企业既有一部分服务部署在公有云上，又有一部分部署到自己搭建的私有云上。



##### 云原生中间件有哪些？
见下面的云原生项目。



##### 什么是VPC（虚拟私有云）？

#### CNCF（云原生计算基金会）
负责云原生相关项目的孵化、管理；

#### 云原生项目
云原生架构及项目一览图（CNCF landscape）：见参考


盒子颜色有以下含义：
* 孵化阶段：（浅蓝色/紫色框）
* 已毕业的项目：（深蓝色框）
* 开源项目：白色
* 专有产品：灰色。




架构简介：
![e27c07d4cfe228a73d3a627499f8a510.png](en-resource://database/1015:1)

第一层是供应层（Provisioning），负责自动化基础结构的搭建（虚拟机、网络、防火墙规则、负载均衡等）、应用程序的镜像仓库、身份认证和授权、密钥管理等。

第二层是运行时层（Runtime），为容器提供存储、运行时环境、网络。


* 应用定义与开发层
    * 数据库
        * Mysql
        * Oracle
    * 流&消息（MQ）
    * 应用定义&镜像创建
        * Maven
        * Gradle
    * CI&CD
        * Jenkins
* 编排管理层
    * 容器编排与调度
        * Kubernetes
    * 协作与服务发现
        * CoreDNS
        * etcd
        * zookeeper
        * nacos
        * eureka
    * RPC远程调用
        * gRPC
    * 服务代理
        * envoy
        * nginx
        * f5（硬件）
        * kube-proxy
    * 网关
        * INGRESS
    * 服务网格
        * LINKERD
        * istio
* 运行时层
    * 云原生存储
        * ROOK
    * 云原生网络
        * CNI
    * 容器运行环境
        * containerd(docker产品的一部分)
        * cri-o
* 供应层
    * 自动化与配置（可帮助工程师无需人工干预即可构建基础环境）
        * Apollo
        * KubeEdge
        * Ansible
    * 镜像仓库（存储应用程序的镜像）
        * Harbor（私有仓库）
        * Docker Regirsty（公有、私有）
    * 安全与合规
    * 密钥和身份管理

另外的层级：

* 平台层
    * PAAS
    paas平台就是为客户提供一个环境，保证开发，测试，运维人员都可以处理相同的程序，即使自己的计算机环境不同。
    
* 可观察性和分析层
    * 日志记录( Logging)：收集事件日志（有关进程的信息）的工具。
        * fluentd
        * Logstash
        * Elastic
        * graylog
    * 监视( Monitoring )：收集指标（系统参数，例如RAM可用性等），监视运行状况。
        * Prometheus
        * Grafana
    * 跟踪( Tracing )：比监视更进一步，这与服务网格相关。
    * 混沌工程( Chaos engineering)：是对生产中的软件进行测试的工具，可以在交付之前识别缺陷并加以修复。
    * ELK
    
#### 学习路线&资源
* Docker（装载应用的容器，核心）
* Kubernetes（服务编排，核心）
    * 可以在线学习k8s的网站：https://www.katacoda.com/courses/kubernetes（英文）
    * k8s的新华字典：《Kubernetes权威指南》
    * 七牛云团队的k8s书籍：《Kubernetes in Action》
    * CNCF 官方大使张磊的教学：https://time.geekbang.org/column/intro/100015201
 * 容器运行时
 * 私有容器（镜像）仓库（公用：dockerHub；私用：Harbor）
 * 服务注册、发现、配置中心（etcd、CoreDNS）
    * 《云原生分布式存储基石：etcd深入解析》
 * 网关
 * 分布式存储
 * 可观测性（常用框架：ELK、Promerheus）
     * 监控
         * Promerheus
             * 中文文档：https://prometheus.fuckcloudnative.io/
     * 日志
         * fluentd
         * elastic 
         * graylog
     * 链路追踪
         * zipkin
         * Skywalking
         * Jaeger
     * 混沌工程
         * chaosmesh
 * 服务网格（服务治理）
     * istio
        * 深入浅出Istio：Service Mesh快速入门与实践（版本可能老了，可以了解）
        * 宋净超大神：https://www.servicemesher.com/istio-handbook/
        * 赵化冰大神：https://zhaohuabing.com/istio-practice/
        
        


 



