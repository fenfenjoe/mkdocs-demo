# 概率论与数理统计 

## 0.概览
概率论与数理统计研究什么？  

* 研究事件会导致多少种可能出现的结果（排列与组合）  
* 如何算出不同的结果发生的概率有多少（随机事件、古典概型、几何概型）
* 在结果A已发生的情况下，结果B发生的概率（条件概率、全概率、贝叶斯） 
* 预测某件事10次里会出现5次A结果的概率（二项分布）
* 预测某件事在1小时内发生5次的概率（泊松分布）


## 1.排列与组合问题

**排列问题：**  

【描述】  
从N个里面取出M个组成一组，并且有序，会有多少种组法？  
用$A^m_n$来表示排列问题。例如：从10个里面取出9个并排好序，用$A^9_{10}$来表示。  

【求解思路】  
N个里面要取M个，  
先取第一个，第一个有N种取法；  
取第二个，有N-1种取法；（则取前2个有N*(N-1)种取法）    
取第三个，有N-2种取法；（则取前3个有N*(N-1)*(N-2)种取法）  
...  
取第M个，有N-M+1种取法；（则取前3个有N*(N-1)*(N-2)...(N-M+1)种取法）  


【求解公式】  
$A^m_n = n*(n-1)*(n-2)...(n-m+1) = \frac{n!}{(n-m)!}$ 

**组合问题：**  

【描述】  
从N个里面取出M个组成一组，并且有序，会有多少种组法？  
用$C^m_n$来表示组合问题。例如：从10个里面取出9个，用$C^9_{10}$来表示。

【求解思路】  

【求解公式】  
$C^m_n = \frac{A^m_n}{m!} = \frac{n!}{(n-m)!m!}$


### 计算方法

1. 分类计数法（加法原理）
2. 分步计数法（乘法原理）

### 总结

排列与组合提供了一种方法，去计算出某件事情会**有多少种可能的结果**。  


## 2.概率论基本概念

* 试验
    1. 可重复进行
    2. 结果不止一个
    3. 实验前不明确哪个结果会发生
* 样本空间  
    可能出现的结果的一个集合，通常用S表示
* 随机事件  
    样本空间的一个子集，也是一个集合。通常用A,B,C...表示  
* 基本事件  
    样本空间里的一个元素。  
* 必然事件  
* 不可能事件  
* 完备事件组  
    当A1、A2...这些随机事件两两之间没有交集，且它们的并集恰好等于样本空间，则称A1、A2...为一个完备事件组

### 事件的运算
交集、并集、补集、差集四种。  

* 交集：既属于A事件、又属于B事件的元素的集合
* 并集：在A事件中、或在B事件中的元素的集合
* 补集：在A事件中，但不在B事件中的元素的集合
* 差集：

### 事件发生的概率

用P(A)表示A事件发生的概率。  
用P(AB)表示A事件以及B事件同时发生的概率。  
用P(B|A)表示在A事件已发生的前提下，B事件发生的概率。  


### 事件的独立性
若A、B事件满足：$P(AB) = P(A) \times P(B)$，则称A、B是互相独立的事件

【若A、B互相独立，可推导出以下公式】  
$P(B) = P(B|A)$  
$P(B|A) = P(B|\bar{A})$

## 3. 古典概型

一个随机试验E，它的基本事件有限个，且每个基本事件出现的概率相等。则把这类试验叫拉普拉斯试验，把这类概率模型称为古典概型。  

【例子】
1. 求投出点数为偶数的骰子的概率
2. 从0~10的整数中选出3个，不含5的概率
3. ...


【表达公式】  
$P(A) = \frac{A}{S}$  
其中P(A)是指A事件发生的概率，S是样本空间（所有可能出现的结果的个数），A是一个随机事件（包含若干个基本事件）  



## 4. 几何概型

无限个基本事件；每个基本事件出现的概率相等。因为一般通过画坐标轴来计算，因此也叫几何概型。    

【例子】
1. 时间
2. 长度
3. 面积


## 5. 条件概率（乘法法则） 

事件A发生的条件下，事件B发生的概率。  

【表达公式】  

$P(B|A) = \frac{P(AB)}{P(A)}$  

衍生公式：  

$(AB) = P(A)P(B|A) = P(B)P(A|B)$  

$P(ABC)=P(A)P(B|A)P(C|AB)$  

【例子】  
1. 抽奖：3个人抽奖，第1个人没中的情况下，第2个人中奖的概率


【经典题目】
1. 已知P(B)=0.4，P(A+B)=0.5，求$P(A|\bar{B})$  



## 6. 加法法则

【加法法则】  
设A、B是互不相容事件（AB=φ），则：  
P（A∪B）=P（A）+P（B）-P（AB）  



## 7. 全概率公式 & 贝叶斯公式

【全概率公式】  
如果事件B1、B2、B3…Bi构成一个完备事件组，即它们两两互不相容，其和为全集；并且P（Bi)大于0，则对任一事件A有  

$P(A)=P(A|B_1)P(B_1) + P(A|B_2)P(B_2) + ... + P(A|B_i)P(B_i)$  

【贝叶斯公式】  
如果是两个事件A、B，则可以通过条件概率公式推导出贝叶斯公式：  

$P(A|B) = P(B|A) \times \frac{P(A)}{P(B)} $  

如果是多个事件，则可以通过全概率公式 + 条件概率公式推导出贝叶斯公式：  

$P(B_i|A) = \frac{P(AB_i)}{P(A)} = \frac{P(B_i) P(A|B_i)}{\sum_{i = 1}^{n}P(B_i)P(A|B_i)}$


## 8. 随机变量

跟随机事件一样，同样是为了研究事件发生的概率。  
不同的是，随机变量将随机事件中的所有元素进行量化（用数字表示），从而更方便计算。  

【抛硬币的结果】  
随机事件（用集合描述）： 
$$
 A = \lbrace正，反\rbrace 
$$

随机变量（用函数描述）： 
$$
X(e)=
\begin{cases}
1,\quad e=扔出正面\\
0, \quad e=扔出反面
\end{cases}
$$

随机变量的取值：$x_k(k=1,2...)$  
随机变量对应的概率分布（分布律）：
1. 图表法  
    |x|1 |2 |... |3|
    |---|---|---|---|---|
    |$P(x_k)$|0.1|0.2|...|0.05
2. 公式枚举法  $P(x_1)=0.1,P(x_2)=0.05 ...P(x_k)=0.05$

### 随机变量的特点
1. 随机变量X=X(e)是一个单实值函数，即通过每个e求出的X都对应一个单值复数  
2. X(e)中，每个e的取值都对应一定的概率  
3. 试验前，可能知道X(e)的所有可能出现的结果，但不确定是哪一个


### 离散型&连续型

【离散型随机变量】  
是指发生的结果（可能的取值）是有限个的，对应着古典概型    
例子：抛硬币（正、反），生小孩（男、女）


【连续型随机变量】  
是指发生的结果（可能的取值）是不可数的，对应着几何概型  
例子：明天的温度、明天的降雨量

### 常见的离散型随机变量

【0-1分布】  
只有两种结果，用0和1分别表示  

分布律： 
P(X=0) = P,  
P(X=1) = 1-P  


例题：生男孩的概率为0.6，求生女孩的概率是多少。  
解题思路：  
1. 因为结果只有两种（生男孩、生女孩），符合0-1分布  
2. 先转换为随机变量  
$$
X(e)=
\begin{cases}
1,\quad e=生男孩\\
0, \quad e=生女孩
\end{cases}
$$  
3. 由题可知， P(1) = 0.6，因此根据分布律，可知P(0) = 1- 0.6 = 0.4，即生女孩概率为0.4



【二项分布(Binomial Distribution)】  
对于n重伯努利试验（试验结果要么A发生，要么A不发生），A发生的次数服从二项分布。  

若随机变量满足二项分布，则用X~B(n,p)表示。即A事件发生的概率为p，在n次试验中，A发生不同次数的概率分布。


分布律：
$P(X=k) =C^k_n \times P^k \times (1-P)^{n-k} \quad (k=0,1,2...n) $


例题：抛圈圈礼物游戏，假设圈中的概率为0.2，求圈10次圈中5个礼物的概率

解题思路：  
圈礼物游戏只有两种结果：圈中或者圈不中，因此若连续玩圈礼物游戏，圈中发生的次数会服从二项分布。  
1. 转换为随机变量  
$$
X(e)=
\begin{cases}
1,\quad e=圈中\\
0, \quad e=圈不中
\end{cases}
$$ 
2. p(e=1) + p(e=0) = 1 ,且p(e=1)=0.2
3. 根据二项分布的分布律，我们可以列出圈10次(n=10)圈中不同个数(k)的概率  
圈中1个：$P(X=1) =C^1_{10} \times 0.2^1 \times 0.8^9 = $   
圈中2个：$P(X=2) =C^2_{10} \times 0.2^2 \times 0.8^8 = $   
...  
圈中5个：$P(X=5) =C^5_{10} \times 0.2^5 \times 0.8^5 = $   


【泊松分布】  
泊松分布是通过二项分布推导所得，
 

泊松分布用$\pi(\lambda)$表示。$\lambda$代表单位时间内事件发生的平均次数。

分布律：  
$P(X=k) = \frac{\lambda ^k \times e^{-\lambda}}{k!} \quad (\lambda>0,\lambda=0,1,2...) $  

> $\pi 读pai,\lambda读lamda,\lambda=np$



> 泊松定理：假设X服从二项分布B(n,p)，当n较大且p较小时，X近似服从泊松分布$\pi=(np)$  
> 即n较大且p较小时，有 $P(X=k) =C^k_n \times P^k \times (1-P)^{n-k} \approx \frac{\lambda ^k \times e^{-\lambda}}{k!} $

例题：零件次品率为0.1%，那么1000个零件至少有两个次品的概率为多少？  
解答：虽然服从二项分布，但因为n较大(1000)p较小(0.1%)，因此我们可用泊松定理来计算。  
X=次品的数量  
p=次品概率  
X ~ B(1000，0.1%) （X服从二项分布）  
求$P(X \geq 2)$   

$P(X \geq 2) = 1 - P(X=0) -P(X=1)$  

根据以下两条公式：  
$\pi(x=k) = \frac{\lambda ^k \times e^{-\lambda}}{k!}$  
$\lambda=np = 1000 * 0.001 = 1$  
有  
$P(x=0) = \frac{ 1 ^0 \times e^{-1}}{0!}$  
$P(x=1) = \frac{ 1 ^1 \times e^{-1}}{1!}$  
于是  
$P(X \geq 2) \approx 0.2642)$  



### 概率分布函数
研究一个随机变量ξ取值小于某一数值x的概率，这概率是x的函数，  
称这种函数为随机变量ξ的分布函数，简称分布函数，记作F(x)，即F(x)=P(ξ<x) (-∞<x<+∞)  

【离散型随机变量分布函数】
对于离散型随机变量，设$x_1,x_2...,x_n$为变量X的取值，而$p_1,p_2...,p_n$为对应上述取值的概率，则离散型随机变量X的概率分布为  
$$
F(x) = p_1 + p_2 \sum_{x_i<n}p_i
$$  

也可以通过枚举的方式表示：  
$$
F(x)=
\begin{cases}
0,\quad x<1\\
0.1, \quad 1\leq x<2\\
0.3, \quad 2\leq x<3\\
0.6, \quad 3\leq x<4\\
1, \quad 4\leq x<4\\
\end{cases}
$$  

【连续型随机变量分布函数】  
$$
F(x) = \int_{-\infty}^x f(x) dx 
$$
其中，f(x)是随机变量X的概率密度函数。  


### 概率密度函数
用来描述一个随机变量ξ取某个值时的概率 
$y = f(x)$，其中x是随机变量的取值，y是概率。  


【离散型随机变量密度函数】  
对于离散型随机变量，设$x_1,x_2...,x_n$为变量X的取值，而$p_1,p_2...,p_n$为对应上述取值的概率，则离散型随机变量X的概率分布为  
$$
f(x) = p(x)
$$  

也可以通过枚举的方式表示：  
$$
f(x)=
\begin{cases}
0,\quad x=0\\
0.1, \quad x=1\\
0.2, \quad x=2\\
0.3, \quad x=3\\
0.4, \quad x=4\\
\end{cases}
$$  

【连续型随机变量密度函数】  
略  


### 常见的连续型随机变量


【均匀分布】  
用U(a,b)表示均匀分布。  
均匀分布，即指连续型随机变量X在某一段区间中（比如a<x<b），得到哪个指的概率都是k（k为一个任意常量）。  
此时，它的概率密度函数f(x) = k 。  



【指数分布】  
$e(\lambda)$表示，$\lambda$表示