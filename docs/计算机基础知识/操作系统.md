# 操作系统

**在你的JAVA APP启动时，操作系统是如何工作的？**

假设你运行的是一个可执行JAR包
```bash
java -jar ./test.jar
```

* 一开始，你的程序被存放在磁盘中。当你运行程序时，操作系统会将其以一个进程的方式加载进内存。

* 操作系统生成一个JVM进程后，会根据JVM的内存配置，为JVM进程申请内存空间。

* 进程的内存空间分为几个部分：进程控制块（PCB）、进程资源（代码段、数据段（BSS）、堆、栈）、共享库的内存映射区

* 其中，代码段存放的是JVM的运行代码，不是main()方法对应的代码

* 当JVM进程运行起来后，会启动类加载器，把所需要的类（jre/lib、ext/lib还有main()方法所在的类等）从磁盘加载到内存（加载到进程资源的堆中）。

* 加载进来后，根据jar包中的manifest.mf，找到main()方法所在类（启动类），并运行其中的代码。





